<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Валютный контроль — мониторинг транзакций и Detrac Recovery</title>
    <meta name="description" content="Валютный контроль, новости о мониторинге мошеннических транзакций и процедура оспаривания платежа Detrac Recovery."/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root{
            --bg:#0a0a0a;
            --bg2:#0f0f10;
            --card:#101012;
            --muted:#b8b8b8;
            --gold:#d4af37;
            --gold2:#ffde77;
            --ok:#2fd27a;
            --bad:#ff5d5d;
            --process:#ffc107;
        }
        *{box-sizing:border-box}
        body{margin:0;color:#f5f5f5;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;background:linear-gradient(180deg,#0a0a0a,#0b0b0b);line-height:1.6;overflow-x:hidden}
        a{color:var(--gold)} .container{width:min(1200px,92vw);margin:0 auto;}
        header{position:sticky;top:0;z-index:50;backdrop-filter:blur(8px) saturate(140%);background:rgba(10,10,10,.9);border-bottom:1px solid rgba(212,175,55,.22);}
        .nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
        .brand{display:flex;gap:12px;align-items:center;font-weight:800}
        .logo{width:42px;height:42px;display:grid;place-items:center;border-radius:12px;background:linear-gradient(135deg,rgba(212,175,55,.22),rgba(212,175,55,.06));border:1px solid rgba(212,175,55,.38);}
        .brand span{font-family:Montserrat;font-size:18px}
        .btn{appearance:none;border:none;cursor:pointer;font-weight:700;border-radius:14px;padding:10px 14px;transition:.2s;outline:none;display:inline-flex;gap:10px;align-items:center}
        .btn-primary{background:linear-gradient(90deg,rgba(212,175,55,.22),rgba(255,222,119,.18));color:#fff;border:1px solid rgba(212,175,55,.45);}
        .btn-ghost{background:transparent;color:var(--gold2);border:1px dashed rgba(212,175,55,.45)}
        .hidden{display:none!important}
        .hero{padding:48px 0 28px}
        .hero-grid{display:grid;grid-template-columns:1.2fr .8fr;gap:28px;align-items:end}
        h1{font-family:Montserrat;font-size:40px;line-height:1.1;margin:0 0 12px;font-weight:800;background:linear-gradient(180deg,#fff,#f7f7f7 60%,var(--gold2));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .lead{color:#e6e6e6;font-size:18px}
        .stat-card{background:rgba(255,255,255,.03);border:1px solid rgba(212,175,55,.25);border-radius:18px;padding:18px}
        .cards{display:grid;grid-template-columns:repeat(12,1fr);gap:14px}
        .card{grid-column:span 4;background:rgba(255,255,255,.02);border:1px solid rgba(212,175,55,.16);border-radius:16px;padding:16px}
        .chip{display:inline-flex;gap:6px;align-items:center;font-size:12px;padding:4px 8px;border-radius:999px;border:1px solid rgba(212,175,55,.32);background:rgba(212,175,55,.08);}
        .section-title{font-family:Montserrat;font-size:24px;font-weight:800;margin:0 0 14px;display:flex;gap:10px;align-items:center}
        .bar{width:6px;height:18px;border-radius:2px;background:linear-gradient(180deg,var(--gold),var(--gold2))}
        .subtitle{color:#d8d8d8;margin:-6px 0 16px}
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(8px);
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: var(--card);
            border: 1px solid var(--gold);
            padding: 30px;
            border-radius: 16px;
            width: min(400px, 90%);
        }
        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close-btn:hover,
        .close-btn:focus {
            color: white;
            text-decoration: none;
            cursor: pointer;
        }
        .input-group {
            margin-bottom: 15px;
        }
        .input-group label {
            display: block;
            margin-bottom: 5px;
        }
        .input-group input {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid var(--muted);
            background-color: #333;
            color: #fff;
        }
    </style>
</head>
<body>
    <header>
        <div class="container nav">
            <div class="brand">
                <div class="logo"></div>
                <span>Валютный контроль</span>
            </div>
            <div class="actions">
                <button class="btn btn-ghost" id="btnLogin">Войти</button>
                <button class="btn btn-primary" id="btnRegister">Регистрация</button>
                <button class="btn btn-primary hidden" id="btnCabinet">Личный кабинет</button>
                <button class="btn btn-ghost hidden" id="btnLogout">Выйти</button>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="container hero-grid">
            <div>
                <h1>Защита клиентов: валютный контроль и Detrac Recovery</h1>
                <p class="lead">Информация, новости и партнёры для возврата средств и борьбы с мошенниками.</p>
            </div>
            <div class="stat-card">
                <span class="chip">AML/CFT</span>
                <p>За 10 лет выплачено $1,23 млрд компенсаций</p>
            </div>
        </div>
    </section>

    <section>
        <div class="container">
            <h2 class="section-title"><span class="bar"></span> Что такое валютный контроль</h2>
            <p class="subtitle">Комплекс правил и процедур для законных валютных операций, защиты клиентов и соответствия требованиям регуляторов.</p>
            <div class="cards">
                <article class="card"><span class="chip">Соблюдение</span><h3>Правовые основания</h3><p>Проверка договоров, документов, контроль сроков репатриации выручки.</p></article>
                <article class="card"><span class="chip">Мониторинг</h3><p>Отслеживание мошенничества, дробление платежей, подмена бенефициара.</p></article>
                <article class="card"><span class="chip">Detrac Recovery</span><h3>Оспаривание</h3><p>Единственная процедура, которая помогает вернуть средства.</p></article>
            </div>
        </div>
    </section>

    <section>
        <div class="container">
            <h2 class="section-title"><span class="bar"></span> Юридические партнёры</h2>
            <p class="subtitle">Свободные юристы есть только в Interlex и BS</p>
            <div class="cards">
                <article class="card">
                    <h3>ООО Interlex (Латвия)</h3>
                    <p><span class="chip" style="background:rgba(47,210,122,.14);color:#2fd27a">Свободные юристы</span></p>
                    <ul>
                        <li>Анна Петрова</li>
                        <li>Елена Кравцева</li>
                        <li>Мария Озолиня</li>
                    </ul>
                </article>
                <article class="card">
                    <h3>ООО BS (Казахстан)</h3>
                    <p><span class="chip" style="background:rgba(47,210,122,.14);color:#2fd27a">Свободные юристы</span></p>
                    <ul>
                        <li>Айгуль Исаева</li>
                        <li>Ольга Гудеева</li>
                        <li>Азамат Саяжанов</li>
                    </ul>
                </article>
                <article class="card">
                    <h3>ООО LexGuard (Польша)</h3>
                    <p><span class="chip" style="background:rgba(255,93,93,.12);color:#ff5d5d">Нет свободных</span></p>
                </article>
            </div>
        </div>
    </section>

    <section id="cabinet" class="hidden">
        <div class="container">
            <h2 class="section-title"><span class="bar"></span> Личный кабинет</h2>
            <form id="claimForm" class="card" style="grid-column:span 12">
                <h3>Подача заявления о мошенничестве</h3>
                <label>ФИО<input id="fio" class="input" required></label>
                <label>Телефон<input id="phone" class="input" required></label>
                <label>Email<input id="email" class="input" type="email" required></label>
                <label>Дата<input id="incident_date" class="input" type="date" required></label>
                <label>Сумма (USD)<input id="amount" class="input" type="number" min="0" required></label>
                <label>Метод
                    <select id="method" class="input" required>
                        <option value="">Выберите…</option>
                        <option>Банковский перевод</option>
                        <option>Карта</option>
                        <option>Криптовалюта</option>
                    </select>
                </label>
                <label>Компания<input id="company" class="input"></label>
                <label>Счёт/банк<input id="account_bank" class="input" required></label>
                <label>Файлы<input id="files" class="input" type="file" multiple></label>
                <button type="button" id="buildClaim" class="btn btn-primary">Сформировать заявление</button>
            </form>
            <div id="claimPreview" class="card hidden" style="margin-top:12px"></div>
            <div id="sendRow" class="hidden" style="margin-top:10px">
                <button id="sendClaim" class="btn btn-primary">Отправить</button>
            </div>
            <div id="claimStatus" class="card hidden" style="margin-top:12px"></div>
        </div>
    </section>

    <div id="authModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 id="authTitle"></h2>
            <div class="input-group">
                <label for="authEmail">Email</label>
                <input type="email" id="authEmail" required>
            </div>
            <div class="input-group" id="passwordGroup">
                <label for="authPassword">Пароль</label>
                <input type="password" id="authPassword" required>
            </div>
            <button class="btn btn-primary" id="authSubmit"></button>
            <p id="authMessage" style="color:red; margin-top:10px;"></p>
        </div>
    </div>
    
    <script>
        const SUPABASE_URL = 'https://prvnidskpxzaapprozgh.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBydm5pZHNrcHh6YWFwcHJvemdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzODcxNjcsImV4cCI6MjA3MTk2MzE2N30.-Kqto54aIyM9524NTp001zYzOOI_9KZs91N-9Zam3Yg';
        
        const supabase = Supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
        
        const btnLogin = document.getElementById('btnLogin');
        const btnRegister = document.getElementById('btnRegister');
        const btnCabinet = document.getElementById('btnCabinet');
        const btnLogout = document.getElementById('btnLogout');

        const cabinetSection = document.getElementById('cabinet');

        const authModal = document.getElementById('authModal');
        const authTitle = document.getElementById('authTitle');
        const authEmail = document.getElementById('authEmail');
        const authPassword = document.getElementById('authPassword');
        const authSubmit = document.getElementById('authSubmit');
        const authMessage = document.getElementById('authMessage');
        const passwordGroup = document.getElementById('passwordGroup');
        
        const closeBtn = document.querySelector('.close-btn');

        let isLogin = true;

        async function updateUI() {
            const { data: { user } } = await supabase.auth.getUser();

            if (user) {
                btnLogin.classList.add('hidden');
                btnRegister.classList.add('hidden');
                btnCabinet.classList.remove('hidden');
                btnLogout.classList.remove('hidden');
                cabinetSection.classList.remove('hidden');
            } else {
                btnLogin.classList.remove('hidden');
                btnRegister.classList.remove('hidden');
                btnCabinet.classList.add('hidden');
                btnLogout.classList.add('hidden');
                cabinetSection.classList.add('hidden');
            }
        }

        btnLogin.addEventListener('click', () => {
            authModal.style.display = 'flex';
            authTitle.textContent = 'Вход';
            authSubmit.textContent = 'Войти';
            passwordGroup.classList.remove('hidden');
            isLogin = true;
            authMessage.textContent = '';
        });

        btnRegister.addEventListener('click', () => {
            authModal.style.display = 'flex';
            authTitle.textContent = 'Регистрация';
            authSubmit.textContent = 'Зарегистрироваться';
            passwordGroup.classList.remove('hidden');
            isLogin = false;
            authMessage.textContent = '';
        });

        authSubmit.addEventListener('click', async () => {
            const email = authEmail.value;
            const password = authPassword.value;
            authMessage.textContent = '';

            if (isLogin) {
                const { error } = await supabase.auth.signInWithPassword({ email, password });
                if (error) {
                    authMessage.textContent = error.message;
                } else {
                    authModal.style.display = 'none';
                    updateUI();
                }
            } else {
                const { data, error } = await supabase.auth.signUp({ email, password });
                if (error) {
                    authMessage.textContent = error.message;
                } else if (data.user) {
                    authMessage.style.color = 'green';
                    authMessage.textContent = 'Проверьте свою почту для подтверждения регистрации.';
                    setTimeout(() => { authModal.style.display = 'none'; }, 3000);
                }
            }
        });

        btnLogout.addEventListener('click', async () => {
            await supabase.auth.signOut();
            updateUI();
        });

        closeBtn.onclick = () => {
            authModal.style.display = 'none';
        };
        
        window.onclick = (event) => {
            if (event.target == authModal) {
                authModal.style.display = 'none';
            }
        };

        updateUI();
    </script>
</body>
</html>